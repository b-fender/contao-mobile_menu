/**
 * mobile_menu extension for Contao Open Source CMS
 *
 * Copyright (C) 2011-2014 Codefog
 *
 * @package mobile_menu
 * @author  Codefog <http://codefog.pl>
 * @author  Kamil Kuzminski <kamil.kuzminski@codefog.pl>
 * @license LGPL
 */
;var mobileMenu=function(d){var c=d.menu;var e=d.trigger;var f=d.overlay;var b=function(k){var l=[];var o=k.children;for(var n=0;n<o.length;n++){if(g(o[n],"submenu")){l.push(o[n])}}for(var n=0;n<l.length;n++){var q=l[n];var o=q.children;var p=null;for(var m=0;m<o.length;m++){if(o[m].tagName.toLowerCase()=="a"||o[m].tagName.toLowerCase()=="span"){p=o[m];break}}if(g(p,"active")||g(p,"trail")){h(q,"submenu_show")}p.addEventListener("click",function(u){var t=this.parentNode;if(!g(t,"submenu_show")){u.preventDefault();for(var s=0;s<l.length;s++){i(l[s],"submenu_show")}h(t,"submenu_show")}});var r=null;var o=q.children;for(var m=0;m<o.length;m++){if(o[m].tagName.toLowerCase()=="ul"){r=o[m];break}}if(r){b(r)}}};var g=function(k,j){return(k.className.split(" ").indexOf(j)==-1)?false:true};var h=function(k,j){if(g(k,j)){return}k.className=k.className+" "+j};var i=function(l,j){if(!g(l,j)){return}var k=l.className.split(" ");k.splice(k.indexOf(j),1);l.className=k.join(" ")};document.body.insertBefore(c);var a=(c.getElementsByClassName("level_1"))[0];if(a){b(a)}e.addEventListener("click",function(j){j.preventDefault();h(c,"active");h(f,"active")});document.body.insertBefore(f);f.addEventListener("click",function(){i(c,"active");i(f,"active")})};