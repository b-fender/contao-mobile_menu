/* mobile_menu extension for Contao Open Source CMS, Copyright (C) 2011-2015 Codefog */
;var mobileMenu=function(d){var c=d.menu;var e=d.trigger;var f=d.overlay;var b=function(l){var m=[];var p=l.children;for(var o=0;o<p.length;o++){if(h(p[o],"submenu")){m.push(p[o])}}for(var o=0;o<m.length;o++){var r=m[o];var p=r.children;var q=null;for(var n=0;n<p.length;n++){if(p[n].tagName.toLowerCase()=="a"||p[n].tagName.toLowerCase()=="span"){q=p[n];break}}if(h(q,"active")||h(q,"trail")){j(r,"submenu_show")}q.addEventListener("click",function(u){var t=this.parentNode;if(!h(t,"submenu_show")){u.preventDefault();for(var i=0;i<m.length;i++){k(m[i],"submenu_show")}j(t,"submenu_show")}});var s=null;var p=r.children;for(var n=0;n<p.length;n++){if(p[n].tagName.toLowerCase()=="ul"){s=p[n];break}}if(s){b(s)}}};var h=function(l,i){return(l.className.split(" ").indexOf(i)==-1)?false:true};var j=function(l,i){if(h(l,i)){return}l.className=l.className+" "+i};var k=function(m,i){if(!h(m,i)){return}var l=m.className.split(" ");l.splice(l.indexOf(i),1);m.className=l.join(" ")};document.body.appendChild(c);var a=c.getElementsByClassName("level_1");if(a.length>0){for(var g=0;g<a.length;g++){b(a[g])}}e.addEventListener("click",function(i){i.preventDefault();j(c,"active");j(f,"active")});document.body.appendChild(f);f.addEventListener("click",function(){k(c,"active");k(f,"active")})};